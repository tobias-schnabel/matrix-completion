---
title: "Simulation Results"
author: Tobias Schnabel
date: "Last compiled on `r format(Sys.Date(), '%B %d, %Y')`"
output: 
  html_document:
    self_contained: no
    theme: flatly
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F)
source("packages.R")
source("Functions.R")
library(DT)
load_all_results()
```

```{=html}
<style type="text/css">
table th {
    text-align: left !important;
}
</style>
```
## Instructions to replicate can be found [here](https://github.com/tobias-schnabel/matrix-completion/blob/main/Replication.md)

# Full thesis can be found [here](https://github.com/tobias-schnabel/matrix-completion/blob/main/Thesis_Schnabel.pdf)

# DGP 1: One treatment group, TE is unit-and time- homogeneous,

## 100 periods

```{r Sim1, 100}
dgp_plot(dgp_1_sim())
plot_est_dev(sim1_100)
plot_est_dens(sim1_100)
results_html(sim1_100)
```

## 55 periods

```{r Sim1, 55}
dgp_plot(dgp_1_sim(nperiods = 55))
plot_est_dev(sim1_55)
plot_est_dens(sim1_55)
results_html(sim1_55)
```

# DGP 2: One treatment group, TE is unit-homogeneous, time-varying

## 100 periods

```{r Sim2, 100}
dgp_plot(dgp_2_sim())
plot_est_dev(sim2_100)
plot_est_dens(sim2_100)
results_html(sim2_100)
```

## 55 periods

```{r Sim2, 55}
dgp_plot(dgp_2_sim(nperiods = 55))
plot_est_dev(sim2_55)
plot_est_dens(sim2_55)
results_html(sim2_55)
```

# DGP 3: Multiple Treatment Groups, Time-Invariant Homogeneous TE

## 100 periods

```{r Sim3, 100}
dgp_plot(dgp_3_sim())
plot_est_dev(sim3_100)
plot_est_dens(sim3_100)
results_html(sim3_100)
```

## 55 periods

```{r Sim3, 55}
dgp_plot(dgp_3_sim(nperiods = 55))
plot_est_dev(sim3_55)
plot_est_dens(sim3_55)
results_html(sim3_55)
```

# DGP 4: Multiple Treatment Groups,Time-Invariant Heterogeneous TE

## 100 periods

```{r Sim4, 100}
dgp_plot(dgp_4_sim())
plot_est_dev(sim4_100)
plot_est_dens(sim4_100)
results_html(sim4_100)
```

## 55 periods

```{r Sim4, 55}
dgp_plot(dgp_4_sim(nperiods = 55))
plot_est_dev(sim4_55)
plot_est_dens(sim4_55)
results_html(sim4_55)
```

# DGP 5: Multiple Treatment Groups, Time-Varying Homogeneous TE

## 100 periods

```{r Sim5, 100}
dgp_plot(dgp_5_sim())
plot_est_dev(sim5_100)
plot_est_dens(sim5_100)
results_html(sim5_100)
```

## 55 periods

```{r Sim5, 55}
dgp_plot(dgp_5_sim(nperiods = 55))
plot_est_dev(sim5_55)
plot_est_dens(sim5_55)
results_html(sim5_55)
```

# DGP 6: Multiple Treatment Groups, Time-Varying Heterogeneous TE

## 100 periods

```{r Sim6, 100}
dgp_plot(dgp_6_sim())
plot_est_dev(sim6_100)
plot_est_dens(sim6_100)
results_html(sim6_100)
```

## 55 periods

```{r Sim6, 55}
dgp_plot(dgp_6_sim(nperiods = 55))
plot_est_dev(sim6_55)
plot_est_dens(sim6_55)
results_html(sim6_55)
```

# DGP 7: Multiple Treatment Groups, Time-Varying Heterogeneous TE, **Unconditional** Parallel Trends Violated

## 100 periods

```{r Sim7, 100}
dgp_plot(dgp_7_sim())
plot_est_dev(sim7_100)
plot_est_dens(sim7_100)
results_html(sim7_100)
```

## 55 periods

```{r Sim7, 55}
dgp_plot(dgp_7_sim(nperiods = 55))
plot_est_dev(sim7_55)
plot_est_dens(sim7_55)
results_html(sim7_55)
```

# DGP 8: Multiple Treatment Groups, Time-Varying Heterogeneous TE, **Parallel Trends Violated**

## 100 periods

```{r Sim8, 100}
dgp_plot(dgp_8_sim())
plot_est_dev(sim8_100)
plot_est_dens(sim8_100)
results_html(sim8_100)
```

## 55 periods

```{r Sim8, 55}
dgp_plot(dgp_8_sim(nperiods = 55))
plot_est_dev(sim8_55)
plot_est_dens(sim8_55)
results_html(sim8_55)
```

# 
